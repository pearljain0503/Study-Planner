<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>StudyFlow Login</title>
	<link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
	<style>
		:root {
			--primary-color: #4EA685;
			--secondary-color: #57B894;
			--black: #000000;
			--white: #ffffff;
			--gray: #efefef;
			--gray-2: #757575;
			--facebook-color: #4267B2;
			--google-color: #DB4437;
			--twitter-color: #1DA1F2;
			--insta-color: #E1306C;
		}
		@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600&display=swap');
		* {
			font-family: 'Poppins', sans-serif;
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}
		html, body {
			height: 100vh;
			overflow: hidden;
		}
		.container {
			position: relative;
			min-height: 100vh;
			overflow: hidden;
		}
		.row {
			display: flex;
			flex-wrap: wrap;
			height: 100vh;
		}
		.col {
			width: 50%;
		}
		.align-items-center {
			display: flex;
			align-items: center;
			justify-content: center;
			text-align: center;
		}
		.form-wrapper {
			width: 100%;
			max-width: 28rem;
		}
		.form {
			padding: 1rem;
			background-color: var(--white);
			border-radius: 1.5rem;
			width: 100%;
			box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
			transform: scale(0);
			transition: .5s ease-in-out;
			transition-delay: 1s;
		}
		.input-group {
			position: relative;
			width: 100%;
			margin: 1rem 0;
		}
		.input-group i {
			position: absolute;
			top: 50%;
			left: 1rem;
			transform: translateY(-50%);
			font-size: 1.4rem;
			color: var(--gray-2);
		}
		.input-group input {
			width: 100%;
			padding: 1rem 3rem;
			font-size: 1rem;
			background-color: var(--gray);
			border-radius: .5rem;
			border: 0.125rem solid var(--white);
			outline: none;
		}
		.input-group input:focus {
			border: 0.125rem solid var(--primary-color);
		}
		.form button {
			cursor: pointer;
			width: 100%;
			padding: .6rem 0;
			border-radius: .5rem;
			border: none;
			background-color: var(--primary-color);
			color: var(--white);
			font-size: 1.2rem;
			outline: none;
		}
		.form p {
			margin: 1rem 0;
			font-size: .8rem;
		}
		.pointer { cursor: pointer; }
		.container.sign-in .form.sign-in,
		.container.sign-up .form.sign-up {
			transform: scale(1);
		}
		.content-row {
			position: absolute;
			top: 0;
			left: 0;
			pointer-events: none;
			z-index: 6;
			width: 100%;
		}
		.text {
			margin: 4rem;
			color: var(--white);
		}
		.text h2 {
			font-size: 3rem;
			font-weight: 700;
			margin: 1rem 0;
			transition: 1s ease-in-out;
		}
		.img img {
			width: 30vw;
			transition: 1s ease-in-out;
			transition-delay: .4s;
		}
		.text.sign-in h2,
		.img.sign-in img {
			transform: translateX(-250%);
		}
		.text.sign-up h2,
		.img.sign-up img {
			transform: translateX(250%);
		}
		.container.sign-in .text.sign-in h2,
		.container.sign-in .img.sign-in img,
		.container.sign-up .text.sign-up h2,
		.container.sign-up .img.sign-up img {
			transform: translateX(0);
		}
		.container::before {
			content: "";
			position: absolute;
			top: 0;
			right: 0;
			height: 100vh;
			width: 300vw;
			transform: translate(35%, 0);
			background-image: linear-gradient(-45deg, var(--primary-color) 0%, var(--secondary-color) 100%);
			transition: 1s ease-in-out;
			z-index: 6;
			border-bottom-right-radius: max(50vw, 50vh);
			border-top-left-radius: max(50vw, 50vh);
		}
		.container.sign-in::before {
			transform: translate(0, 0);
			right: 50%;
		}
		.container.sign-up::before {
			transform: translate(100%, 0);
			right: 50%;
		}
		@media only screen and (max-width: 768px) {
			.col { width: 100%; }
		}
	</style>
</head>
<body>

<div id="container" class="container">
	<div class="row">
		<!-- SIGN UP -->
		<div class="col align-items-center flex-col sign-up">
			<div class="form-wrapper align-items-center">
				<form class="form sign-up" id="signupForm">
					<h2>Sign Up</h2>
					<div class="input-group">
						<i class='bx bxs-user'></i>
						<input type="text" id="signupName" placeholder="Name" required>
					</div>
					<div class="input-group">
						<i class='bx bx-mail-send'></i>
						<input type="email" id="signupEmail" placeholder="Email" required>
					</div>
					<div class="input-group">
						<i class='bx bxs-lock-alt'></i>
						<input type="password" id="signupPassword" placeholder="Password" required>
					</div>
					<div class="input-group">
						<i class='bx bxs-lock-alt'></i>
						<input type="password" id="confirmPassword" placeholder="Confirm Password" required>
					</div>
					<button type="submit">Sign Up</button>
					<p>Already have an account? <b onclick="toggle()" class="pointer">Sign in here</b></p>
				</form>
			</div>
		</div>

		<!-- SIGN IN -->
		<div class="col align-items-center flex-col sign-in">
			<div class="form-wrapper align-items-center">
				<form class="form sign-in" id="loginForm">
					<h2>Sign In</h2>
					<div class="input-group">
						<i class='bx bxs-user'></i>
						<input type="email" id="loginEmail" placeholder="Email" required>
					</div>
					<div class="input-group">
						<i class='bx bxs-lock-alt'></i>
						<input type="password" id="loginPassword" placeholder="Password" required>
					</div>
					<button type="submit">Login</button>
					<p>Donâ€™t have an account? <b onclick="toggle()" class="pointer">Sign up here</b></p>
				</form>
			</div>
		</div>
	</div>

	<!-- CONTENT SECTION -->
	<div class="row content-row">
		<div class="col align-items-center flex-col">
			<div class="text sign-in">
				<h2>Welcome Back!</h2>
			</div>
		</div>
		<div class="col align-items-center flex-col">
			<div class="text sign-up">
				<h2>Join StudyFlow</h2>
			</div>
		</div>
	</div>
</div>

<script>
	const container = document.getElementById('container');
	const signupForm = document.getElementById('signupForm');
	const loginForm = document.getElementById('loginForm');

	function toggle() {
		container.classList.toggle('sign-in');
		container.classList.toggle('sign-up');
	}

	setTimeout(() => {
		container.classList.add('sign-in');
	}, 200);

	// --- SIGNUP ---
	signupForm.addEventListener('submit', e => {
		e.preventDefault();
		let name = document.getElementById('signupName').value.trim();
		let email = document.getElementById('signupEmail').value.trim();
		let pass = document.getElementById('signupPassword').value;
		let confirm = document.getElementById('confirmPassword').value;

		if (pass !== confirm) {
			alert("Passwords do not match!");
			return;
		}

		let users = JSON.parse(localStorage.getItem('sf_users')) || [];
		if (users.find(u => u.email === email)) {
			alert("User already exists!");
			return;
		}

		users.push({ name, email, password: pass });
		localStorage.setItem('sf_users', JSON.stringify(users));
		alert("Signup successful! Please login.");
		toggle();
		signupForm.reset();
	});

	// --- LOGIN ---
	loginForm.addEventListener('submit', e => {
		e.preventDefault();
		let email = document.getElementById('loginEmail').value.trim();
		let pass = document.getElementById('loginPassword').value;

		let users = JSON.parse(localStorage.getItem('sf_users')) || [];
		let user = users.find(u => u.email === email && u.password === pass);

		if (!user) {
			alert("Invalid credentials!");
			return;
		}

		localStorage.setItem('sf_currentUser', JSON.stringify(user));
		alert(`Welcome ${user.name}!`);
		window.location.href = "dashboard.html"; // redirect to dashboard
	});
</script>

</body>
</html>
